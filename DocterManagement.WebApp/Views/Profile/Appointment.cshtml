@using DoctorManagement.Data.Enums
@using DoctorManagement.ViewModels.Common;
@using DoctorManagement.ViewModels.Catalog.Appointment
@model DoctorManagement.ViewModels.Catalog.Appointment.AppointmentVm
@{
    ViewData["Title"] = "Appointment";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var i = 1;
    var appointments = (List<AppointmentVm>)ViewBag.Appointments;
}
@inject Microsoft.Extensions.Configuration.IConfiguration Configuration 
@section Stylesheet{
    <style>
        .root-layout[_ngcontent-serverApp-c55] {
            background-color: #f6f6f6
        }
    </style>
    <style>
        .offcanvas-backdrop[_ngcontent-serverApp-c50] {
            position: fixed;
            top: 0px;
            left: 0px;
            z-index: 30;
            height: 100vh;
            width: 100vw;
            background-color: #1f293799
        }

        #primary-menu[_ngcontent-serverApp-c50] .nav-link[_ngcontent-serverApp-c50] {
            display: flex;
            border-radius: .5rem;
            padding: 1rem
        }

        #primary-menu[_ngcontent-serverApp-c50] .nav-link[_ngcontent-serverApp-c50]:hover {
            background-color: #1a76e30d;
            --tw-text-opacity: 1;
            color: rgb(26 118 227 / var(--tw-text-opacity))
        }

        @@media (min-width: 782px) {
            #primary-menu[_ngcontent-serverApp-c50] .nav-link[_ngcontent-serverApp-c50]:hover {
                background-color: inherit
            }
        }

        #primary-menu[_ngcontent-serverApp-c50] .dropdown-footer[_ngcontent-serverApp-c50] .dropdown-item[_ngcontent-serverApp-c50] {
            display: none;
            border-radius: 0;
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity));
            padding: 1.5rem;
            font-weight: 400
        }

        #primary-menu[_ngcontent-serverApp-c50] .dropdown-footer[_ngcontent-serverApp-c50] .dropdown-item[_ngcontent-serverApp-c50]:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity))
        }

        @@media (min-width: 782px) {
            #primary-menu[_ngcontent-serverApp-c50] .dropdown-footer[_ngcontent-serverApp-c50] .dropdown-item[_ngcontent-serverApp-c50] {
                display: block
            }
        }

        #primary-menu[_ngcontent-serverApp-c50] .dropdown-item[_ngcontent-serverApp-c50] {
            display: flex;
            border-radius: .5rem;
            padding: 1rem
        }

        #primary-menu[_ngcontent-serverApp-c50] .dropdown-item[_ngcontent-serverApp-c50]:hover {
            background-color: #1a76e30d;
            --tw-text-opacity: 1;
            color: rgb(26 118 227 / var(--tw-text-opacity))
        }

        #primary-menu[_ngcontent-serverApp-c50] .dropdown-toggle[_ngcontent-serverApp-c50] {
            display: none !important
        }

        @@media (min-width: 782px) {
            #primary-menu[_ngcontent-serverApp-c50] .dropdown-toggle[_ngcontent-serverApp-c50] {
                display: flex !important
            }
        }

        @@media (max-width: 782px) {
            .collapse[_ngcontent-serverApp-c50]:not(.show) {
                display: none
            }
        }

        .accordion-button[_ngcontent-serverApp-c50]:not(.collapsed) .collapse-control[_ngcontent-serverApp-c50] {
            --tw-rotate: 180deg;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
        }

        @@media (min-width: 782px) {
            .md\:collapse[_ngcontent-serverApp-c50]:not(.show) {
                display: none
            }

            .dropdown-toggle[_ngcontent-serverApp-c50] {
                position: relative
            }

            .dropdown-toggle[_ngcontent-serverApp-c50]:after {
                border-color: #2c2c2c;
                border-style: solid;
                border-width: 0 1px 1px 0;
                content: "";
                display: flex;
                height: 6px;
                margin-top: -3px;
                position: absolute;
                right: 4px;
                top: 50%;
                transform: rotate(45deg);
                transform-origin: 75% 75%;
                transition: transform .1s ease;
                width: 6px
            }
        }

        @@media (min-width: 1024px) {
            .lg\:collapse[_ngcontent-serverApp-c50]:not(.show) {
                display: none
            }
        }
    </style>
    <style>
        [_nghost-serverApp-c54] .ant-collapse-content-box {
            padding: 0 !important
        }

        nz-collapse-panel[_ngcontent-serverApp-c54] {
            padding: 0 !important
        }

        [_nghost-serverApp-c54] .ant-collapse-header {
            cursor: pointer !important;
            padding-left: 0 !important;
            padding-right: 0 !important;
            padding-top: 1.5rem !important;
            padding-bottom: 1.5rem !important;
            font-size: .875rem !important;
            line-height: 1.25rem !important;
            font-weight: 600 !important;
            color: currentColor !important
        }

        @@media (min-width: 782px) {
            [_nghost-serverApp-c54] .ant-collapse-header {
                cursor: auto !important
            }

            nz-collapse-panel[_ngcontent-serverApp-c54] {
                border-style: none !important
            }
        }

        a[_ngcontent-serverApp-c54]:hover {
            color: currentColor
        }
    </style>
    <style>
        [_nghost-serverApp-c194] .ant-steps-item-icon {
            float: none !important
        }

        [_nghost-serverApp-c194] .ant-steps-item-tail {
            display: none !important
        }
    </style>
    <style>
        [_nghost-serverApp-c193] .ant-steps {
            align-items: stretch
        }

        @@media (min-width: 782px) {
            [_nghost-serverApp-c193] .ant-steps-item {
                margin-top: 1rem
            }
        }

        [_nghost-serverApp-c193] .ant-steps-item.ant-steps-item-active .ant-steps-item-icon {
            --tw-border-opacity: 1 !important;
            border-color: rgb(26 118 227 / var(--tw-border-opacity)) !important;
            --tw-bg-opacity: 1 !important;
            background-color: rgb(26 118 227 / var(--tw-bg-opacity)) !important;
            --tw-text-opacity: 1 !important;
            color: rgb(255 255 255 / var(--tw-text-opacity)) !important
        }

        [_nghost-serverApp-c193] .ant-steps-item.ant-steps-item-active .ant-steps-item-icon .ant-steps-icon {
            --tw-text-opacity: 1 !important;
            color: rgb(255 255 255 / var(--tw-text-opacity)) !important
        }

        [_nghost-serverApp-c193] .ant-steps-item .ant-steps-item-icon {
            position: absolute;
            top: .75rem;
            left: .75rem
        }

        [_nghost-serverApp-c193] .ant-steps-item .step-button {
            display: flex;
            flex: 1 1 0%;
            align-items: center;
            justify-content: space-between;
            padding-top: .75rem;
            padding-left: 2.75rem
        }

        [_nghost-serverApp-c193] .ant-steps-item .ant-steps-item-container {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity))
        }

        @@media (min-width: 782px) {
            [_nghost-serverApp-c193] .ant-steps-item .ant-steps-item-container {
                border-radius: .5rem
            }
        }

        [_nghost-serverApp-c193] .ant-steps-item .ant-steps-item-container .ant-steps-item-title {
            display: flex
        }

        [_nghost-serverApp-c193] .ant-steps-item .ant-steps-item-content {
            min-height: auto
        }
    </style>
    <style>
        .wrapper-main[_ngcontent-serverApp-c72] {
            background: linear-gradient(90deg, #00c6fb 0%, #0758d8 98.74%)
        }

        @@media only screen and (max-width: 767px) {
            .banner-navigation[_ngcontent-serverApp-c72] {
                background: white
            }
        }

        .selected[_ngcontent-serverApp-c72] {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity));
            --tw-text-opacity: 1;
            color: rgb(26 118 227 / var(--tw-text-opacity))
        }
    </style>
    <style>
        [nz-carousel-content][_ngcontent-serverApp-c73] {
            overflow: hidden
        }
    </style>
    <style>
        .main-search[_ngcontent-serverApp-c68] {
            margin: 0;
            display: block;
            width: 100%;
            flex: 1 1 0%;
            border-radius: .5rem;
            border-color: transparent;
            padding: .75rem 2.25rem .75rem .75rem;
            font-size: 1rem;
            line-height: 1.5rem
        }

        .main-search[_ngcontent-serverApp-c68]::placeholder {
            font-size: .875rem;
            line-height: 1.25rem
        }

        .main-search[_ngcontent-serverApp-c68]:focus {
            --tw-border-opacity: 1;
            border-color: rgb(26 118 227 / var(--tw-border-opacity));
            outline: 2px solid transparent;
            outline-offset: 2px
        }

        @@media (min-width: 782px) {
            .main-search[_ngcontent-serverApp-c68] {
                padding-right: .75rem;
                padding-left: 3rem
            }
        }

        .main-search[_ngcontent-serverApp-c68]::-webkit-calendar-picker-indicator {
            display: none !important
        }
    </style>
    <style>
        .bookmark_hospital[_ngcontent-serverApp-c71]::-webkit-scrollbar {
            background: transparent;
            width: 0px
        }
    </style>
    <style>
        .typical-doctor-card[_ngcontent-serverApp-c195] {
            box-shadow: 0 1px 2px #0000001a, 0 1px 1px #0000000f
        }

        .btn-booking-primary[_ngcontent-serverApp-c195] {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            width: 124px;
            height: 41px;
            left: 0px;
            top: 0px;
            background: #eff6ff;
            border: 1px solid #eff6ff;
            box-sizing: border-box;
            box-shadow: 0 1px 1px #0000000d;
            border-radius: 4px;
            flex: none;
            order: 0;
            align-self: stretch;
            flex-grow: 0
        }

        .limit-line-break[_ngcontent-serverApp-c195] {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            line-height: 16px;
            max-height: 32px;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical
        }
    </style>
    <style>
        [_nghost-serverApp-c211] .ant-tabs-nav-operations {
            display: none !important
        }

        [_nghost-serverApp-c211] .ant-tabs-tab {
            padding: 0
        }

        [_nghost-serverApp-c211] .ant-tabs-tab-active {
            border: 1px solid #1A76E3;
            background: #eff6ff
        }

        .active[_ngcontent-serverApp-c211] {
            border-top: 1px solid #1A76E3;
            border-bottom: 1px solid #1A76E3
        }

        [_nghost-serverApp-c211] .ant-tabs-tabpane {
            min-height: 200px
        }
    </style>
    <style>
        .ant-radio-group[_ngcontent-serverApp-c208] {
            display: flex;
            height: 10rem;
            flex-direction: column;
            gap: 1rem;
            font-weight: 500;
            line-height: 17px;
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity))
        }

        @@media (min-width: 782px) {
            .ant-radio-group[_ngcontent-serverApp-c208] {
                height: 20rem
            }
        }
    </style>
    <style>
        .item-slot[_ngcontent-serverApp-c210] {
            width: -moz-fit-content;
            width: fit-content;
            border: 1px solid #e5e7eb
        }

        .arrow-down-close[_ngcontent-serverApp-c210] {
            transform: rotate(0);
            transition: transform .3s linear
        }

        .arrow-down-open[_ngcontent-serverApp-c210] {
            transform: rotate(-180deg);
            transition: transform .3s linear
        }

        .slot-unavailable[_ngcontent-serverApp-c210] {
            cursor: not-allowed;
            background: #d7d7d7;
            color: #9ca3af
        }
    </style>
    <style>
        .form-control[_ngcontent-serverApp-c180] {
            margin-top: .25rem;
            display: block;
            width: 100%;
            border-radius: .375rem;
            border-width: 1px;
            --tw-border-opacity: 1;
            border-color: rgb(229 231 235 / var(--tw-border-opacity));
            padding: .5rem .75rem .5rem 2rem;
            --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);
            --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .form-control[_ngcontent-serverApp-c180]::placeholder {
            font-size: .875rem;
            line-height: 1.25rem
        }

        .form-control[_ngcontent-serverApp-c180]:focus {
            --tw-border-opacity: 1;
            border-color: rgb(26 118 227 / var(--tw-border-opacity));
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(26 118 227 / var(--tw-ring-opacity))
        }
    </style>
    <style>
        .active[_ngcontent-serverApp-c179] {
            border: 2px solid #1a76e3
        }

        .active[_ngcontent-serverApp-c179] .item[_ngcontent-serverApp-c179] {
            padding: 7px
        }

        .item-row[_ngcontent-serverApp-c179] {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            gap: .5rem
        }

        .item-row__label[_ngcontent-serverApp-c179] {
            margin: 0;
            white-space: nowrap;
            font-size: 1rem;
            line-height: 1.5rem;
            font-weight: 400;
            line-height: 19px
        }

        .item-row__value[_ngcontent-serverApp-c179] {
            margin: 0;
            font-size: 1rem;
            line-height: 1.5rem;
            font-weight: 500;
            line-height: 19px
        }

        .item-name-bg[_ngcontent-serverApp-c179],
        .item-name[_ngcontent-serverApp-c179] {
            margin: 0;
            position: absolute;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%)
        }
    </style>
    <style>
        .ant-collapse-borderless[_ngcontent-serverApp-c206]>.ant-collapse-item[_ngcontent-serverApp-c206] {
            border: none !important
        }

        .profile-card[_ngcontent-serverApp-c206] .ant-tabs-nav {
            margin-bottom: 0
        }

        .profile-card[_ngcontent-serverApp-c206] .ant-tabs-tab {
            border-top-width: 4px;
            border-color: transparent
        }

        .profile-card[_ngcontent-serverApp-c206] .ant-tabs-tab .ant-tabs-tab-btn:hover {
            --tw-text-opacity: 1;
            color: rgb(26 118 227 / var(--tw-text-opacity))
        }

        .profile-card[_ngcontent-serverApp-c206] .ant-tabs-tab.ant-tabs-tab-active {
            --tw-border-opacity: 1;
            border-top-color: rgb(26 118 227 / var(--tw-border-opacity))
        }

        .profile-card[_ngcontent-serverApp-c206] .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {
            --tw-text-opacity: 1;
            color: rgb(26 118 227 / var(--tw-text-opacity))
        }
    </style>
    <style>
        .label[_ngcontent-serverApp-c170] {
            white-space: nowrap;
            font-size: 1rem;
            line-height: 1.5rem;
            font-weight: 400;
            line-height: 19px;
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity))
        }

        .value[_ngcontent-serverApp-c170] {
            font-size: 1rem;
            line-height: 1.5rem;
            font-weight: 500;
            line-height: 19px;
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity))
        }

        .value--green[_ngcontent-serverApp-c170] {
            --tw-text-opacity: 1;
            color: rgb(34 197 94 / var(--tw-text-opacity))
        }

        .item-wrapper[_ngcontent-serverApp-c170] {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            gap: 1rem;
            padding-top: .75rem;
            padding-bottom: .75rem
        }
    </style>
    <style>
        .label[_ngcontent-serverApp-c171] {
            white-space: nowrap;
            font-size: 1rem;
            line-height: 1.5rem;
            font-weight: 400;
            line-height: 19px;
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity))
        }

        .value[_ngcontent-serverApp-c171] {
            font-size: 1rem;
            line-height: 1.5rem;
            font-weight: 500;
            line-height: 19px;
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity))
        }

        .value--blue[_ngcontent-serverApp-c171] {
            --tw-text-opacity: 1;
            color: rgb(26 118 227 / var(--tw-text-opacity))
        }

        .item-wrapper[_ngcontent-serverApp-c171] {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            gap: 1rem;
            padding-top: .75rem;
            padding-bottom: .75rem
        }
    </style>
    <style>
        .menu-item[_ngcontent-serverApp-c258] {
            position: relative;
            display: block;
            white-space: nowrap;
            padding: 1rem;
            font-size: .875rem;
            line-height: 1.25rem
        }

        .menu-item[_ngcontent-serverApp-c258]:before {
            content: "";
            position: absolute;
            left: 0px;
            right: 0px;
            bottom: 0px;
            display: block;
            height: .25rem;
            width: 100%;
            border-top-left-radius: .25rem;
            border-top-right-radius: .25rem;
            background-color: transparent
        }

        @@media (min-width: 782px) {
            .menu-item[_ngcontent-serverApp-c258]:before {
                right: auto;
                top: 0px;
                height: auto;
                width: .25rem;
                border-top-right-radius: .25rem;
                border-bottom-right-radius: .25rem;
                border-top-left-radius: 0
            }
        }

        .menu-item[_ngcontent-serverApp-c258]:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity));
            --tw-text-opacity: 1;
            color: rgb(26 118 227 / var(--tw-text-opacity))
        }

        .menu-item.item-active[_ngcontent-serverApp-c258] {
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity))
        }

        .menu-item.item-active[_ngcontent-serverApp-c258]:before {
            --tw-bg-opacity: 1;
            background-color: rgb(26 118 227 / var(--tw-bg-opacity))
        }
    </style>
}

<app-list _nghost-serverapp-c258="" class="ng-tns-c258-36 ng-star-inserted">
    <section _ngcontent-serverapp-c258="" class="bg-gray-100 ng-tns-c258-36">
        <div _ngcontent-serverapp-c258=""
            class="max-w-7xl mx-auto md:p-4 grid grid-cols-1 md:grid-cols-12 md:gap-4 lg:py-10 ng-tns-c258-36">
            <div _ngcontent-serverapp-c258="" class="col-span-1 md:col-span-3 ng-tns-c258-36">
               <div _ngcontent-serverapp-c258="" class="bg-white md:rounded-md ng-tns-c135-20">
                    <ul _ngcontent-serverapp-c258=""
                        class="flex overflow-y-auto hide-scroll-bar md:py-4 md:flex-col ng-tns-c135-20">
                        <li _ngcontent-serverapp-c258="" class="ng-tns-c135-20"><a
                                _ngcontent-serverapp-c258="" routerlink="/lich-kham"
                                class="menu-item item-active ng-tns-c135-20"  asp-action="Appointment" asp-controller="Profile">Lịch khám</a>
                        </li>
                       @* <li _ngcontent-serverapp-c258="" class="ng-tns-c135-20"><a
                                _ngcontent-serverapp-c258="" routerlink="/thanh-toan"
                                class="menu-item ng-tns-c135-20" href="/thanh-toan">Lịch sử thanh toán</a>
                        </li>*@
                        <li _ngcontent-serverapp-c258="" class="ng-tns-c135-20"><a
                                _ngcontent-serverapp-c258="" routerlink="/ho-so"
                                class="menu-item ng-tns-c135-20" asp-action="Index" asp-controller="Profile">Hồ sơ</a></li>
                        <li _ngcontent-serverapp-c258="" class="ng-tns-c135-20"><a
                                _ngcontent-serverapp-c258="" asp-action="Account"
                                class="menu-item ng-tns-c135-20" >Tài khoản</a></li>
                        <li _ngcontent-serverapp-c258="" class="ng-tns-c135-20"><a
                                _ngcontent-serverapp-c258="" class="menu-item ng-tns-c135-20"
                                 asp-action="Logout" asp-controller="Login">Đăng xuất</a></li>
                    </ul>
                </div>
            </div>
            <div _ngcontent-serverapp-c258="" class="md:col-span-9 ng-tns-c258-36">
                <div _ngcontent-serverapp-c258=""
                    class="flex items-center justify-between mb-2 p-4 md:px-0 ng-tns-c258-36">
                    <h1 _ngcontent-serverapp-c258="" class="text-xl ng-tns-c258-36">Lịch khám</h1>
                    <app-filter _ngcontent-serverapp-c258="" class="ng-tns-c258-36"
                        _nghost-serverapp-c257="">
                        <div _ngcontent-serverapp-c257="">
                            <form asp-action="Appointment" _ngcontent-serverapp-c257="" method="get"
                                class="ant-badge ng-tns-c252-37 ng-star-inserted">
                                <input type="hidden" name="keyword"/>
                                <select name ="status" oninvalid="@ViewBag.Status" asp-items="@ViewBag.LStatus" onchange="this.form.submit()">
                                    
                                </select>
                            </form>
                            
                        </div>
                    </app-filter>
                </div>
                @if(Model != null){
                    <app-detail _ngcontent-serverapp-c258="" _nghost-serverapp-c256=""
                        class="ng-tns-c258-36 ng-star-inserted">
                        <div _ngcontent-serverapp-c256=""
                            class="bg-gray-100 grid md:grid-cols-10 md:rounded-lg md:gap-px">
                            <div _ngcontent-serverapp-c256=""
                                class="bg-white flex flex-col md:col-span-4 md:rounded-tl-lg md:rounded-bl-lg overflow-hidden">
                                <div _ngcontent-serverapp-c256="" class="p-4">
                                    <form _ngcontent-serverapp-c256="" novalidate="" asp-action="Appointment" method="get"
                                        class="ng-untouched ng-pristine ng-valid"><input
                                            _ngcontent-serverapp-c256="" name="keyword" value="@ViewBag.Keyword"
                                            placeholder="Mã giao dịch, tên dịch vụ, tên bệnh nhân,..."
                                            type="search"
                                            class="w-full placeholder:text-sm rounded border-gray-200 bg-white focus:shadow ng-untouched ng-pristine ng-valid">
                                    </form>
                                </div>
                                <nz-spin _ngcontent-serverapp-c256="" class="ant-spin-nested-loading">
                                
                                
                                    <div class="ant-spin-container ng-star-inserted">
                                        <div _ngcontent-serverapp-c256="" id="container-appointment"
                                            infinite-scroll=""
                                            class="flex-1 max-h-[400px] lg:max-h-[900px] overflow-x-auto overflow-y-scroll ng-star-inserted">
                                                @{
                                                    i = 1;
                                                }
                                                @foreach(var item in appointments){

                                                    <a _ngcontent-serverapp-c256="" asp-action="Appointment" asp-route-id ="@item.Id"
                                                        class="check-show-info flex p-4 items-center gap-4 cursor-pointer @(item.Id==Model.Id?"bg-gray-50":"") ng-star-inserted">
                                                        <div _ngcontent-serverapp-c256="" class="flex flex-1 flex-col">
                                                            <h2 _ngcontent-serverapp-c256="" class="font-medium">@item.Doctor.FullName</h2>
                                                            <p _ngcontent-serverapp-c256=""
                                                                class="text-gray-600 text-sm">@(item.SlotSchedule.FromTime.ToString().Substring(0,5) + " - "+item.Schedule.CheckInDate.ToShortDateString())</p>
                                                            <p _ngcontent-serverapp-c256=""
                                                                class="text-gray-600 text-sm">@item.Patient.Name</p>
                                                            <div _ngcontent-serverapp-c256="" class="mt-1">
                                                                <p _ngcontent-serverapp-c256=""
                                                                    class="bg-green-50 px-2 py-1 inline-block rounded-full text-xs"
                                                                    style=" @(item.Status==StatusAppointment.approved?"color: rgb(31, 85, 180);":
                                                                    item.Status==StatusAppointment.cancel?"color:rgb(247, 47, 47)":
                                                                    item.Status==StatusAppointment.complete?"color: rgb(52, 180, 31);":"color:rgb(236, 156, 31)")"> 
                                                                    @(item.Status==StatusAppointment.approved?"Đã đặt khám":
                                                                    item.Status==StatusAppointment.cancel?"Đã hủy":
                                                                    item.Status==StatusAppointment.complete?"Đã khám bệnh":"Đã quá hạn")</p>
                                                            </div>
                                                        </div>
                                                        <div _ngcontent-serverapp-c256=""
                                                            class="flex flex-col items-center p-4 border-gray-100 border rounded-md">
                                                            <span _ngcontent-serverapp-c256=""
                                                                class="text-xs text-gray-600">STT</span>
                                                            <p _ngcontent-serverapp-c256="" class="font-medium text-xl">
                                                                @item.Stt </p>
                                                        </div>
                                                    </a>
                                                    i++;
                                                }
                                        
                                        
                                        </div>
                                    
                                    
                                    </div>
                                
                                </nz-spin>
                            </div>
                            @{
                                i = 1;
                            }
                        
                                <div _ngcontent-serverapp-c256="" id = "view-appoi_@i" 
                                    class="checkshow bg-white md:col-span-6 md:rounded-r-lg overflow-hidden  space-y-4 ng-star-inserted">
                                    <div _ngcontent-serverapp-c256=""
                                        class="flex justify-between items-center px-4 pt-4 lg:px-6 font-semibold">
                                        <div _ngcontent-serverapp-c256="" class="text-green-500">
                                            <p _ngcontent-serverapp-c256="">STT: @Model.Stt</p><span
                                                _ngcontent-serverapp-c256=""
                                                class="text-sm font-normal text-gray-700"></span>
                                        </div>
                                        <div _ngcontent-serverapp-c256="" class="flex items-center"
                                            style="@(Model.Status==StatusAppointment.approved?"color: rgb(31, 85, 180);":
                                                                    Model.Status==StatusAppointment.cancel?"color:rgb(247, 47, 47)":
                                                                    Model.Status==StatusAppointment.complete?"color: rgb(52, 180, 31);":"color:rgb(236, 156, 31)")"><svg _ngcontent-serverApp-c256=""
                                                width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path _ngcontent-serverApp-c256=""
                                                    d="M10.75 2.45007C11.45 1.86007 12.58 1.86007 13.26 2.45007L14.84 3.80007C15.14 4.05007 15.71 4.26007 16.11 4.26007H17.81C18.87 4.26007 19.74 5.13007 19.74 6.19007V7.89007C19.74 8.29007 19.95 8.85007 20.2 9.15007L21.55 10.7301C22.14 11.4301 22.14 12.5601 21.55 13.2401L20.2 14.8201C19.95 15.1201 19.74 15.6801 19.74 16.0801V17.7801C19.74 18.8401 18.87 19.7101 17.81 19.7101H16.11C15.71 19.7101 15.15 19.9201 14.85 20.1701L13.27 21.5201C12.57 22.1101 11.44 22.1101 10.76 21.5201L9.18001 20.1701C8.88001 19.9201 8.31 19.7101 7.92 19.7101H6.17C5.11 19.7101 4.24 18.8401 4.24 17.7801V16.0701C4.24 15.6801 4.04 15.1101 3.79 14.8201L2.44 13.2301C1.86 12.5401 1.86 11.4201 2.44 10.7301L3.79 9.14007C4.04 8.84007 4.24 8.28007 4.24 7.89007V6.20007C4.24 5.14007 5.11 4.27007 6.17 4.27007H7.9C8.3 4.27007 8.86 4.06007 9.16 3.81007L10.75 2.45007Z"
                                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                                    stroke-linejoin="round"></path>
                                                <path _ngcontent-serverApp-c256="" d="M12 8.12988V12.9599"
                                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                                    stroke-linejoin="round"></path>
                                                <path _ngcontent-serverApp-c256="" d="M11.9945 16H12.0035"
                                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                    stroke-linejoin="round"></path>
                                            </svg>
                                            <p _ngcontent-serverapp-c256="" class="ml-1" style="@(Model.Status==StatusAppointment.approved?"color: rgb(31, 85, 180);":
                                                                    Model.Status==StatusAppointment.cancel?"color:rgb(247, 47, 47)":
                                                                    Model.Status==StatusAppointment.complete?"color: rgb(52, 180, 31);":"color:rgb(236, 156, 31)")">@(Model.Status==StatusAppointment.approved?"Đã đặt khám":
                                                Model.Status==StatusAppointment.cancel?"Đã hủy":
                                                Model.Status==StatusAppointment.complete?"Đã khám bệnh":"Đã quá hạn")</p>
                                        </div>
                                    </div>
                                    <div _ngcontent-serverapp-c256="" class="px-4 lg:px-6 flex gap-4 flex-wrap justify-center items-center">
                                        <a asp-action="Index" asp-controller="Doctor" asp-route-id="@Model.Doctor.UserId">
                                            <img  _ngcontent-serverapp-c256="" width="64" height="64"
                                                class="bg-gray-50 w-16 h-16  ng-star-inserted ng-lazyloaded"
                                                alt="@Model.Doctor.FullName"
                                                src="@(Configuration["BaseAddress"]+"/img/"+ Model.Doctor.Img)">
                                        </a>

                                
                                        <div _ngcontent-serverapp-c256="" class="flex-1">
                                            <a asp-action="Index" asp-controller="Doctor" asp-route-id="@Model.Doctor.UserId">
                                                <h3 _ngcontent-serverapp-c256="" class="text-base font-medium">@Model.Doctor.FullName</h3>
                                            </a>
                                            <p _ngcontent-serverapp-c256="" class="text-gray-500 text-sm">@Model.Doctor.FullAddress</p>
                                        </div>
                                        <qrcode _ngcontent-serverapp-c256="" class="ng-star-inserted">
                                            <div class="qrcode">
                                                @if (Model.Status == StatusAppointment.complete && Model.Rate.Id == new Guid())
                                                {
                                                    <button onclick="ShowForm()" _ngcontent-serverapp-c188=""class="btn-primary self-end ">Đánh giá</button>
                                                }else if(Model.Rate.Id != new Guid())
                                                {
                                                    <button onclick="ShowFormDetailt()" _ngcontent-serverapp-c188=""class="btn-primary self-end ">Xem đánh giá</button>
                                                }
                                            </div>
                                        </qrcode>
                                
                                
                                    </div>
                            
                                    <app-appointment-info _ngcontent-serverapp-c256="" _nghost-serverapp-c253="">
                                        <div _ngcontent-serverapp-c253=""
                                            class="p-4 lg:p-6 space-y-3 ng-star-inserted">
                                            <h4 _ngcontent-serverapp-c253="" class="font-medium">Thông tin đặt khám
                                            </h4>
                                            <div _ngcontent-serverapp-c253="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c253="" class="whitespace-nowrap mr-2">Mã
                                                    phiếu khám</span><span _ngcontent-serverapp-c253=""
                                                    class="font-medium text-right">@Model.No</span></div>
                                            <div _ngcontent-serverapp-c253="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c253="" class="whitespace-nowrap mr-2">Ngày
                                                    khám</span><span _ngcontent-serverapp-c253=""
                                                    class="font-medium text-right">@(Model.SlotSchedule.FromTime + " - "+Model.Schedule.CheckInDate.ToShortDateString())</span></div>
                                    
                                    
                                    
                                    
                                    
                                            <div _ngcontent-serverapp-c253=""
                                                class="flex justify-between ng-star-inserted"><span
                                                    _ngcontent-serverapp-c253="" class="whitespace-nowrap mr-2">Bác
                                                    sĩ</span><span _ngcontent-serverapp-c253=""
                                                    class="font-medium text-right">@Model.Doctor.FullName</span></div>
                                        @if(Model.Status== StatusAppointment.cancel)
                                        {
                                            <div _ngcontent-serverapp-c253=""
                                                    class="flex justify-between ng-star-inserted"><span
                                                        _ngcontent-serverapp-c253="" class="whitespace-nowrap mr-2">Lý do hủy</span><span _ngcontent-serverapp-c253=""
                                                        class="font-medium text-right">@Model.CancelReason</span></div>
                                            
                                        }
                                    
                                        </div>
                                
                                    </app-appointment-info>
                                    <app-patient-info _ngcontent-serverapp-c256="" _nghost-serverapp-c254="">
                                        <div _ngcontent-serverapp-c254=""
                                            class="p-4 lg:px-6 space-y-3 ng-star-inserted">
                                            <h4 _ngcontent-serverapp-c254="" class="font-medium">Thông tin bệnh nhân
                                            </h4>
                                            <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Họ
                                                    và tên</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@Model.Patient.Name</span></div>
                                            <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Năm
                                                    sinh</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@Model.Patient.Dob.ToShortDateString() </span></div>
                                            <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Số
                                                    điện thoại</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@Model.Patient.RelativePhone</span></div>
                                            <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Giới
                                                    tính</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@(Model.Patient.Gender==Gender.Male?"Nam":"Nữ")</span></div>
                                    
                                            <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Địa
                                                    chỉ</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@Model.Patient.FullAddress</span></div>
                                            <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Ghi
                                                    chú</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@Model.Note</span></div>
                                        
                                            <div _ngcontent-serverapp-c254="" class="item-wrapper">
                                                <div _ngcontent-serverapp-c254=""
                                                    class="mt-4 flex justify-end gap-4">
                                            
                                            
                                                </div>
                                            </div>
                                        </div>
                                
                                    </app-patient-info>
                                    <app-subclinical-result _ngcontent-serverapp-c256="" _nghost-serverapp-c254="">
                                        <div _ngcontent-serverapp-c254="" class="p-4 lg:px-6 space-y-3 ng-star-inserted">
                                            <h4 _ngcontent-serverapp-c254="" class="font-medium">Kết quả khám
                                            </h4>
                                            @if (Model.MedicalRecord.Id == new Guid())
                                            {
                                            
                                                <nz-empty _ngcontent-serverapp-c255=""
                                                    class="ant-empty text-gray-600 text-xs ng-star-inserted">
                                                    <div class="ant-empty-image">
                                            
                                                        <nz-empty-default class="ng-star-inserted"><svg width="184"
                                                                height="152" viewBox="0 0 184 152"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                class="ant-empty-img-default">
                                                                <g fill="none" fill-rule="evenodd">
                                                                    <g transform="translate(24 31.67)">
                                                                        <ellipse cx="67.797" cy="106.89" rx="67.797"
                                                                            ry="12.668"
                                                                            class="ant-empty-img-default-ellipse">
                                                                        </ellipse>
                                                                        <path
                                                                            d="M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"
                                                                            class="ant-empty-img-default-path-1"></path>
                                                                        <path
                                                                            d="M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z"
                                                                            transform="translate(13.56)"
                                                                            class="ant-empty-img-default-path-2"></path>
                                                                        <path
                                                                            d="M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"
                                                                            class="ant-empty-img-default-path-3"></path>
                                                                        <path
                                                                            d="M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"
                                                                            class="ant-empty-img-default-path-4"></path>
                                                                    </g>
                                                                    <path
                                                                        d="M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"
                                                                        class="ant-empty-img-default-path-5"></path>
                                                                    <g transform="translate(149.65 15.383)"
                                                                        class="ant-empty-img-default-g">
                                                                        <ellipse cx="20.654" cy="3.167" rx="2.849"
                                                                            ry="2.815"></ellipse>
                                                                        <path
                                                                            d="M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z">
                                                                        </path>
                                                                    </g>
                                                                </g>
                                                            </svg></nz-empty-default>
                                            
                                            
                                                    </div>
                                                    <p class="ant-empty-description ng-star-inserted"> Đang chờ kết quả
                                                        cập nhật
                                            
                                            
                                                    </p>
                                                </nz-empty>
                                            }else{
                                            
                                                <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Chuẩn đoán bệnh</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@Model.MedicalRecord.Diagnose</span>
                                                </div>
                                                <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Tình trạng bệnh</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">
                                                     @(Model.MedicalRecord.StatusIllness==StatusIllness.central?"Trung bình":
                                                                    Model.MedicalRecord.StatusIllness==StatusIllness.light?"Nhẹ":
                                                                    Model.MedicalRecord.StatusIllness==StatusIllness.heavy?"Nặng":"Khác")
                                                    </span>
                                                </div>
                                                <div _ngcontent-serverapp-c254="" class="flex justify-between"><span
                                                    _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Chú ý</span><span _ngcontent-serverapp-c254=""
                                                    class="font-medium text-right">@Model.MedicalRecord.Note </span>
                                                </div>
                                                <div _ngcontent-serverapp-c254="" class="item-wrapper">
                                                <div _ngcontent-serverapp-c254=""
                                                    class="mt-4 flex justify-end gap-4">
                                            
                                            
                                                </div>
                                                </div>
                                                <h4 _ngcontent-serverapp-c254="" class="font-medium">Đơn thuốc
                                                </h4>
                                                <div _ngcontent-serverapp-c254="" class=" justify-between">
                                                    <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Tên thuốc</span>
                                                
                                                
                                                    <span _ngcontent-serverapp-c254=""class=" text-right" style="float:right; margin: 0 20px;">Tổng tiền</span>
                                                    <span _ngcontent-serverapp-c254=""class=" text-right" style="float:right; margin: 0 20px;">Đơn vị</span>
                                                    <span _ngcontent-serverapp-c254="" class=" text-right" style="float:right">Số lượng</span>
                                                </div>
                                            
                                                @foreach(var item in Model.MedicalRecord.Medicine){

                                                    <div  _ngcontent-serverapp-c254="" class="bg-gray-50 justify-between">
                                                        <span _ngcontent-serverapp-c254="" class="font-medium whitespace-nowrap mr-2">@item.Name</span>
                                                    
                                                        <span _ngcontent-serverapp-c254=""class="font-medium text-right" style="float:right; margin: 0 20px;">@item.TotalAmountString</span>
                                                        <span _ngcontent-serverapp-c254=""class="font-medium text-right" style="float:right; margin: 0 20px;">@item.Unit</span>
                                                        <span _ngcontent-serverapp-c254="" class="font-medium whitespace-nowrap mr-2" style="float:right;">@item.Qty</span>
                                                    </div>
                                                     <div  _ngcontent-serverapp-c254="" class="justify-between">
                                                        <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Cách dùng: <span class="font-medium">@item.Use</span></span>
                                                        <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2" style="float:right; margin: 0 10px;">tối: <span class="font-medium">@item.Night</span></span>
                                                        <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2" style="float:right; margin: 0 10px;">chiều: <span class="font-medium">@item.Afternoon</span></span>
                                                        <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2" style="float:right; margin: 0 10px;">trưa: <span class="font-medium">@item.Noon</span></span>
                                                        <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2" style="float:right; margin: 0 10px;">sáng: <span class="font-medium">@item.Morning</span></span>
                                                    </div>
                                                }
                                                <div _ngcontent-serverapp-c254="" class="item-wrapper">
                                                <div _ngcontent-serverapp-c254=""
                                                    class="mt-4 flex justify-end gap-4">
                                            
                                            
                                                </div>
                                                </div>
                                                <h4 _ngcontent-serverapp-c254="" class="font-medium">Dịch vụ khám bệnh
                                                </h4>
                                                <div _ngcontent-serverapp-c254="" class=" justify-between">
                                                    <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Tên dịch vụ</span>
                                                
                                                
                                                    <span _ngcontent-serverapp-c254=""class=" text-right" style="float:right; margin: 0 30px;">Tổng tiền</span>
                                                    <span _ngcontent-serverapp-c254=""class=" text-right" style="float:right; margin: 0 30px;">Đơn vị</span>
                                                    <span _ngcontent-serverapp-c254="" class=" text-right" style="float:right">Số lượng</span>
                                                </div>
                                            
                                                @foreach(var item in Model.MedicalRecord.Service){

                                                    <div  _ngcontent-serverapp-c254="" class="bg-gray-50 justify-between">
                                                        <span _ngcontent-serverapp-c254="" class="font-medium whitespace-nowrap mr-2">@item.Name</span>
                                                    
                                                        <span _ngcontent-serverapp-c254=""class="font-medium text-right" style="float:right; margin: 0 30px;">@item.TotalAmountString</span>
                                                        <span _ngcontent-serverapp-c254=""class="font-medium text-right" style="float:right; margin: 0 30px;">@item.Unit</span>
                                                        <span _ngcontent-serverapp-c254="" class="font-medium whitespace-nowrap mr-2" style="float:right;">@item.Qty</span>
                                                    </div>
                                                }
                                                <div _ngcontent-serverapp-c254="" class="item-wrapper">
                                                <div _ngcontent-serverapp-c254=""
                                                    class="mt-4 flex justify-end gap-4">
                                                </div>
                                                </div>
                                                <div _ngcontent-serverapp-c254="" class=" justify-between">
                                                    <span _ngcontent-serverapp-c254="" class="whitespace-nowrap mr-2">Tổng tiền</span>
                                                
                                                
                                              
                                                    <span _ngcontent-serverapp-c254="" class=" text-right" style="float:right">@Model.MedicalRecord.TotalAmount.ToString("#,###,###,### vnđ")</span>
                                                </div>
                                            }
                                        </div>
                                    </app-subclinical-result>
                                    <div _ngcontent-serverapp-c256=""
                                        class="bg-gray-50 p-4 lg:px-6 text-xs text-center">
                                        <p _ngcontent-serverapp-c256="">Tổng đài hỗ trợ và chăm sóc khách hàng <a
                                                _ngcontent-serverapp-c256="" href="tel:0373951042"
                                                class="text-primary">0373951042</a></p>
                                    </div>
                                    @if(Model.Status == StatusAppointment.approved)
                                    {
                                        <div _ngcontent-serverapp-c256=""
                                            class="p-4 lg:p-6 flex justify-between items-center gap-6 mt-auto">
                                            <div _ngcontent-serverapp-c256=""><a _ngcontent-serverapp-c256="" asp-action="CanceledAppointment" asp-route-id="@Model.Id"
                                                    class="text-orange-500 hover:underline ng-star-inserted">Hủy
                                                    lịch</a>
                                            </div>
                                        </div>
                                    
                                    }
                                </div>
                        </div>
                    </app-detail>
                }
                else
                {
                    
                    <app-detail _ngcontent-serverapp-c258="" _nghost-serverapp-c133=""
                    class="ng-tns-c135-20 ng-star-inserted">
                        <div _ngcontent-serverapp-c133=""
                            class="bg-gray-100 grid md:grid-cols-10 md:rounded-lg md:gap-px">
                            <div _ngcontent-serverapp-c133=""
                                class="bg-white flex flex-col md:col-span-4 md:rounded-tl-lg md:rounded-bl-lg overflow-hidden">
                                <div _ngcontent-serverapp-c133="" class="p-4"><input
                                        _ngcontent-serverapp-c133=""
                                        placeholder="Mã giao dịch, tên dịch vụ, tên bệnh nhân,..." type="text"
                                        class="w-full placeholder:text-sm rounded border-gray-200 bg-white focus:shadow ng-untouched ng-pristine ng-valid">
                                </div>
                                <nz-spin _ngcontent-serverapp-c133="" class="ant-spin-nested-loading">
                                
                                
                                    <div class="ant-spin-container ng-star-inserted">
                                        <nz-empty _ngcontent-serverapp-c133=""
                                            class="ant-empty text-gray-600 text-xs ng-star-inserted">
                                            <div class="ant-empty-image">
                                            
                                                <nz-empty-default class="ng-star-inserted"><svg width="184"
                                                        height="152" viewBox="0 0 184 152"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        class="ant-empty-img-default">
                                                        <g fill="none" fill-rule="evenodd">
                                                            <g transform="translate(24 31.67)">
                                                                <ellipse cx="67.797" cy="106.89" rx="67.797"
                                                                    ry="12.668"
                                                                    class="ant-empty-img-default-ellipse">
                                                                </ellipse>
                                                                <path
                                                                    d="M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"
                                                                    class="ant-empty-img-default-path-1"></path>
                                                                <path
                                                                    d="M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z"
                                                                    transform="translate(13.56)"
                                                                    class="ant-empty-img-default-path-2"></path>
                                                                <path
                                                                    d="M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"
                                                                    class="ant-empty-img-default-path-3"></path>
                                                                <path
                                                                    d="M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"
                                                                    class="ant-empty-img-default-path-4"></path>
                                                            </g>
                                                            <path
                                                                d="M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"
                                                                class="ant-empty-img-default-path-5"></path>
                                                            <g transform="translate(149.65 15.383)"
                                                                class="ant-empty-img-default-g">
                                                                <ellipse cx="20.654" cy="3.167" rx="2.849"
                                                                    ry="2.815"></ellipse>
                                                                <path
                                                                    d="M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z">
                                                                </path>
                                                            </g>
                                                        </g>
                                                    </svg></nz-empty-default>
                                            
                                            
                                            </div>
                                            <p class="ant-empty-description ng-star-inserted"> Không tìm thấy
                                                kết quả
                                            
                                            
                                            </p>
                                        
                                        
                                        </nz-empty>
                                    
                                    
                                    
                                    </div>
                                
                                </nz-spin>
                            </div>
                        
                        
                        </div>
                    </app-detail>
                }
            </div>
        </div>
    </section>
</app-list>


@section Alert{
    <div class="cdk-global-overlay-wrapper" dir="ltr">
      @if (TempData["AlertMessage"] != null)
      {
          <div id="cdk-overlay-9" class="cdk-overlay-pane" style="z-index: 1010; position: static;">
            <nz-message-container>
              <div class="ant-message" style="top: 24px;">
                <nz-message class="ng-tns-c43-75 ng-star-inserted">
                  <div class="ant-message-notice ng-tns-c43-75 ng-trigger ng-trigger-moveUpMotion">
                    <div class="ant-message-notice-content ng-tns-c43-75">
                      <div class="ant-message-custom-content ng-tns-c43-75 ant-message-@TempData["AlertType"]">
                          @if(TempData["AlertType"]=="success"){

                              <i nz-icon="" nztype="check-circle" class="anticon ng-tns-c43-75 anticon-check-circle ng-star-inserted" style="">
                                <svg viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em"
                                    class="ng-tns-c43-75" data-icon="check-circle" aria-hidden="true">
                                    <path
                                      d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z">
                                    </path>
                                    <path
                                      d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z">
                                    </path>
                                </svg>
                              </i>
                          }else{
                             <i nz-icon="" nztype="close-circle"
                                class="anticon ng-tns-c43-5 anticon-close-circle ng-star-inserted" style=""><svg
                                    viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em"
                                    height="1em" class="ng-tns-c43-5" data-icon="close-circle"
                                    aria-hidden="true">
                                    <path
                                        d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z">
                                    </path>
                                    <path
                                        d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z">
                                    </path>
                                </svg>
                             </i>

                          }
                        <span class="ng-tns-c43-75 ng-star-inserted" style="">@TempData["AlertMessage"]</span>
                      </div>
                    </div>
                  </div>
                </nz-message>
              </div>
            </nz-message-container>
          </div>
            
      } 
    </div>
    <style>
        .rating-modal-handler__rating-stars-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 0.625rem 0 1.25rem;
            position: relative;
            font-size: 2.25rem;
            letter-spacing: .25rem;
        }
        .rating-stars__container {
            display: flex;
        }
        .rating-modal-handler__rating-stars-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 0.625rem 0 1.25rem;
            position: relative;
            font-size: 2.25rem;
            letter-spacing: .25rem;
        }
        .rating-stars__star {
            stroke: currentColor;
        }
        .rating-stars__star--clickable {
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }
        .ytO7le {
            position: relative;
        }
        .rating-stars__container>div {
            margin: 0 0.125rem;
        }
        ._9MGQf1 {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        svg:not(:root) {
            overflow: hidden;
        }
        .leE1Gj {
            text-align: center;
        }
        .HsTsuw {
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
            display: inline-block;
            padding: 0.5rem 0.75rem;
            border: 1px solid rgba(0,0,0,.09);
            color: #222;
            border-radius: 1rem;
            margin: 0 0.25rem 1.125rem;
            font-weight: 500;
            transition: color .1s cubic-bezier(.4,0,.6,1),border-color .1s cubic-bezier(.4,0,.6,1);
            word-break: break-word;
        }
        .SXHCxt {
            border-color: #2196f3;
            color: #03a9f4;
        }
         .tRi-ot {
            display: flex;
            margin: 1.75rem 0 0.625rem 1rem;
        }       
        .r6FH3x {
            width: 2.5rem;
            text-align: center;
            margin-right: 0.625rem;
            padding-top: 1.375rem;
        }
        .shopee-avatar {
            display: inline-block;
            width: 1.875rem;
            height: 1.875rem;
            position: relative;
            border-radius: 50%;
            border: 0.0625rem solid rgba(0,0,0,.09);
            box-sizing: border-box;
        }

        .shopee-avatar__placeholder {
            width: 100%;
            position: relative;
            padding-top: 100%;
            background-color: #f5f5f5;
            border-radius: 50%;
            overflow: hidden;
        }
        .shopee-avatar__img, .shopee-avatar__img-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: block;
        }

        .DfB\+wQ {
            flex: 1;
            border-top: 1px solid rgba(0,0,0,.05);
            padding-top: 1.375rem;
        }
        .wPeQVR {
            font-size: .75rem;
            line-height: .875rem;
            color: #222;
            margin-bottom: 0.375rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-decoration: none;
        }
        .rating-stars__container {
            display: flex;
        }
        .rating-stars__star {
            stroke: currentColor;
        }
        .ytO7le {
            position: relative;
        }
        .rating-stars__container>div {
            margin: 0 0.125rem;
        }
        .DfB\+wQ .rating-stars__container>div {
            margin: 0 0.125rem 0 0;
        }
        ._9MGQf1 {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        svg:not(:root) {
            overflow: hidden;
        }
        .iSbtQg {
            margin-top: 0.9375rem;
        }
        .BUWNCB {
            margin-bottom: 0.9375rem;
        }
        .Ixoq95 {
            border: 1px solid rgba(0,0,0,.09);
            border-radius: 0.625rem;
            padding: 0.25rem 0.625rem;
            color: #929292;
            font-size: .75rem;
            margin-right: 0.625rem;
            word-break: break-word;
            display: inline-block;
        }
        .qyTV2S {
            margin-top: 0.4375rem;
            color: #bbb;
            font-size: .75rem;
        }
    </style>
    @if(Model!=null){

        <div  class="cdk-global-overlay-wrapper  "  dir="ltr">
          <div id="cdk-overlay-form" class="cdk-overlay-pane hiden-btn" style="position: static;">
            <div tabindex="0" class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div>
            <nz-modal-container tabindex="-1" role="dialog"
              class="ng-tns-c149-18 ng-trigger ng-trigger-modalContainer ant-modal-wrap ant-modal-centered ng-star-inserted"
              style="z-index: 1000;">
              <div role="document" class="ant-modal ng-tns-c149-18"
                style="width: 800px; transform-origin: 399.6px -107.2px 0px;">
                <div class="ant-modal-content ng-tns-c149-18"><button aria-label="Close" onclick="CloseForm()"
                    class="ant-modal-close ng-tns-c149-18 ng-star-inserted" style=""><span class="ant-modal-close-x"><i
                        nz-icon="" class="anticon ant-modal-close-icon anticon-close ng-star-inserted"><svg
                          viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em"
                          data-icon="close" aria-hidden="true">
                          <path
                            d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z">
                          </path>
                        </svg></i>
                    </span></button>
          
                  <div nz-modal-title="" class="ant-modal-header ng-tns-c149-18 ng-star-inserted" style="">
                    <div class="ant-modal-title">
                      <div class="ng-star-inserted">Đánh giá bác sĩ</div>
                    </div>
                  </div>
          
                  <div class="ant-modal-body ng-tns-c149-18">
                    <app-add-patient-modal _nghost-serverapp-c188="" class="ng-star-inserted" style="">
                      <div _ngcontent-serverapp-c188="">
                        <form _ngcontent-serverapp-c188="" novalidate="" asp-action="AddRate" id="form-rate"  
                          class=" grid-cols-1 md:grid-cols-2 lg:p-6 gap-4 ng-invalid ng-touched ng-dirty">
                          <div _ngcontent-serverapp-c188="" >
                                <div _ngcontent-serverapp-c256="" class="flex justify-between items-center px-4 pt-4 lg:px-6 font-semibold">
                                    <div _ngcontent-serverapp-c256="" class="text-green-500">
                                        <p _ngcontent-serverapp-c256="">STT: @Model.Stt</p><span _ngcontent-serverapp-c256=""
                                            class="text-sm font-normal text-gray-700"></span>
                                    </div>
                                    <div _ngcontent-serverapp-c256="" class="flex items-center" style="@(Model.Status==StatusAppointment.approved?"color: rgb(31, 85, 180);":
                                                                    Model.Status==StatusAppointment.cancel?"color:rgb(247, 47, 47)":
                                                                    Model.Status==StatusAppointment.complete?"color: rgb(52, 180, 31);":"color:rgb(236, 156, 31)")"><svg
                                            _ngcontent-serverApp-c256="" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path _ngcontent-serverApp-c256=""
                                                d="M10.75 2.45007C11.45 1.86007 12.58 1.86007 13.26 2.45007L14.84 3.80007C15.14 4.05007 15.71 4.26007 16.11 4.26007H17.81C18.87 4.26007 19.74 5.13007 19.74 6.19007V7.89007C19.74 8.29007 19.95 8.85007 20.2 9.15007L21.55 10.7301C22.14 11.4301 22.14 12.5601 21.55 13.2401L20.2 14.8201C19.95 15.1201 19.74 15.6801 19.74 16.0801V17.7801C19.74 18.8401 18.87 19.7101 17.81 19.7101H16.11C15.71 19.7101 15.15 19.9201 14.85 20.1701L13.27 21.5201C12.57 22.1101 11.44 22.1101 10.76 21.5201L9.18001 20.1701C8.88001 19.9201 8.31 19.7101 7.92 19.7101H6.17C5.11 19.7101 4.24 18.8401 4.24 17.7801V16.0701C4.24 15.6801 4.04 15.1101 3.79 14.8201L2.44 13.2301C1.86 12.5401 1.86 11.4201 2.44 10.7301L3.79 9.14007C4.04 8.84007 4.24 8.28007 4.24 7.89007V6.20007C4.24 5.14007 5.11 4.27007 6.17 4.27007H7.9C8.3 4.27007 8.86 4.06007 9.16 3.81007L10.75 2.45007Z"
                                                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                            <path _ngcontent-serverApp-c256="" d="M12 8.12988V12.9599" stroke="currentColor" stroke-width="1.5"
                                                stroke-linecap="round" stroke-linejoin="round"></path>
                                            <path _ngcontent-serverApp-c256="" d="M11.9945 16H12.0035" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                        <p _ngcontent-serverapp-c256="" class="ml-1">@(Model.Status==StatusAppointment.approved?"Đã đặt khám":
                                            Model.Status==StatusAppointment.cancel?"Đã hủy":
                                            Model.Status==StatusAppointment.complete?"Đã khám bệnh":"Đã quá hạn")</p>
                                    </div>
                                </div>
                                <div _ngcontent-serverapp-c256="" class="px-4 lg:px-6 flex gap-4 flex-wrap justify-center items-center">
                                    <a asp-action="Index" asp-controller="Doctor" asp-route-id="@Model.Doctor.UserId">
                                            <img  _ngcontent-serverapp-c256="" width="64" height="64"
                                                class="bg-gray-50 w-16 h-16  ng-star-inserted ng-lazyloaded"
                                                alt="@Model.Doctor.FullName"
                                                src="@(Configuration["BaseAddress"]+"/img/"+ Model.Doctor.Img)">
                                        </a>

                                
                                        <div _ngcontent-serverapp-c256="" class="flex-1">
                                            <a asp-action="Index" asp-controller="Doctor" asp-route-id="@Model.Doctor.UserId">
                                                <h3 _ngcontent-serverapp-c256="" class="text-base font-medium">@Model.Doctor.FullName</h3>
                                            </a>
                                            <p _ngcontent-serverapp-c256="" class="text-gray-500 text-sm">@Model.Doctor.FullAddress</p>
                                        </div>
                                    <qrcode _ngcontent-serverapp-c256="" class="ng-star-inserted">
                                    
                                    </qrcode>
                                </div>
                                <div _ngcontent-serverapp-c253="" class="p-4 lg:p-6 space-y-3 ng-star-inserted">
                                    <h4 _ngcontent-serverapp-c253="" class="font-medium">Thông tin đặt khám
                                    </h4>
                                    <div _ngcontent-serverapp-c253="" class="flex justify-between"><span _ngcontent-serverapp-c253=""
                                            class="whitespace-nowrap mr-2">Mã
                                            phiếu khám</span><span _ngcontent-serverapp-c253="" class="font-medium text-right">@Model.No</span></div>
                                    <div _ngcontent-serverapp-c253="" class="flex justify-between"><span _ngcontent-serverapp-c253=""
                                            class="whitespace-nowrap mr-2">Ngày
                                            khám</span><span _ngcontent-serverapp-c253="" class="font-medium text-right">@(Model.SlotSchedule.FromTime +
                                            " - "+Model.Schedule.CheckInDate.ToShortDateString())</span></div>
                                </div>
                          </div>
                     
                       
                          <div _ngcontent-serverapp-c188="" class="form-section__form-group md:col-span-1  lg:grid-cols-4 gap-4">
                            <div class="rating-modal-handler__rating-stars-wrapper shopee-rating__stars">
                                <div class="rating-stars__container" id="rate">
                                    <div onclick="myFunction(0)" class="rating-stars__star rating-stars__star--clickable ytO7le" style="width: 36px; height: 36px;"><svg
                                            viewBox="0 0 30 30" class="_9MGQf1">
                                            <defs>
                                                <linearGradient id="star__hollow" x1="50%" x2="50%" y1="0%" y2="99.0177926%">
                                                    <stop offset="0%" stop-color="#FFD211"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="none" fill-rule="evenodd" stroke="url(#star__hollow)" stroke-width="2"
                                                d="M23.226809 28.390899l-1.543364-9.5505903 6.600997-6.8291523-9.116272-1.4059447-4.01304-8.63019038-4.013041 8.63019038-9.116271 1.4059447 6.600997 6.8291523-1.543364 9.5505903 8.071679-4.5038874 8.071679 4.5038874z">
                                            </path>
                                            </svg><svg viewBox="0 0 30 30" class="_9MGQf1" style="width:0">
                                            <defs>
                                                <linearGradient id="star__solid" x1="50%" x2="50%" y1="0%" y2="100%">
                                                    <stop offset="0%" stop-color="#FFCA11"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="url(#star__solid)" fill-rule="evenodd"
                                                d="M14.9988798 25.032153l-8.522024 4.7551739c-.4785069.2670004-.7939037.0347448-.7072938-.5012115l1.6339124-10.1109185-6.8944622-7.1327607c-.3871203-.4005006-.2499178-.7947292.2865507-.8774654l9.5090982-1.46652789L14.5740199.51703028c.2346436-.50460972.6146928-.50543408.8497197 0l4.2693588 9.18141263 9.5090986 1.46652789c.545377.0841102.680337.4700675.28655.8774654l-6.894462 7.1327607 1.633912 10.1109185c.08788.5438118-.232337.7662309-.707293.5012115l-8.5220242-4.7551739z">
                                            </path>
                                        </svg></div>
                                    <div onclick="myFunction(1)" class="rating-stars__star rating-stars__star--clickable ytO7le" style="width: 36px; height: 36px;"><svg
                                            viewBox="0 0 30 30" class="_9MGQf1">
                                            <defs>
                                                <linearGradient id="star__hollow" x1="50%" x2="50%" y1="0%" y2="99.0177926%">
                                                    <stop offset="0%" stop-color="#FFD211"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="none" fill-rule="evenodd" stroke="url(#star__hollow)" stroke-width="2"
                                                d="M23.226809 28.390899l-1.543364-9.5505903 6.600997-6.8291523-9.116272-1.4059447-4.01304-8.63019038-4.013041 8.63019038-9.116271 1.4059447 6.600997 6.8291523-1.543364 9.5505903 8.071679-4.5038874 8.071679 4.5038874z">
                                            </path>
                                            </svg><svg viewBox="0 0 30 30" class="_9MGQf1" style="width:0">
                                            <defs>
                                                <linearGradient id="star__solid" x1="50%" x2="50%" y1="0%" y2="100%">
                                                    <stop offset="0%" stop-color="#FFCA11"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="url(#star__solid)" fill-rule="evenodd"
                                                d="M14.9988798 25.032153l-8.522024 4.7551739c-.4785069.2670004-.7939037.0347448-.7072938-.5012115l1.6339124-10.1109185-6.8944622-7.1327607c-.3871203-.4005006-.2499178-.7947292.2865507-.8774654l9.5090982-1.46652789L14.5740199.51703028c.2346436-.50460972.6146928-.50543408.8497197 0l4.2693588 9.18141263 9.5090986 1.46652789c.545377.0841102.680337.4700675.28655.8774654l-6.894462 7.1327607 1.633912 10.1109185c.08788.5438118-.232337.7662309-.707293.5012115l-8.5220242-4.7551739z">
                                            </path>
                                        </svg></div>
                                    <div onclick="myFunction(2)" class="rating-stars__star rating-stars__star--clickable ytO7le" style="width: 36px; height: 36px;"><svg
                                            viewBox="0 0 30 30" class="_9MGQf1">
                                            <defs>
                                                <linearGradient id="star__hollow" x1="50%" x2="50%" y1="0%" y2="99.0177926%">
                                                    <stop offset="0%" stop-color="#FFD211"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="none" fill-rule="evenodd" stroke="url(#star__hollow)" stroke-width="2"
                                                d="M23.226809 28.390899l-1.543364-9.5505903 6.600997-6.8291523-9.116272-1.4059447-4.01304-8.63019038-4.013041 8.63019038-9.116271 1.4059447 6.600997 6.8291523-1.543364 9.5505903 8.071679-4.5038874 8.071679 4.5038874z">
                                            </path>
                                            </svg><svg viewBox="0 0 30 30" class="_9MGQf1" style="width:0">
                                            <defs>
                                                <linearGradient id="star__solid" x1="50%" x2="50%" y1="0%" y2="100%">
                                                    <stop offset="0%" stop-color="#FFCA11"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="url(#star__solid)" fill-rule="evenodd"
                                                d="M14.9988798 25.032153l-8.522024 4.7551739c-.4785069.2670004-.7939037.0347448-.7072938-.5012115l1.6339124-10.1109185-6.8944622-7.1327607c-.3871203-.4005006-.2499178-.7947292.2865507-.8774654l9.5090982-1.46652789L14.5740199.51703028c.2346436-.50460972.6146928-.50543408.8497197 0l4.2693588 9.18141263 9.5090986 1.46652789c.545377.0841102.680337.4700675.28655.8774654l-6.894462 7.1327607 1.633912 10.1109185c.08788.5438118-.232337.7662309-.707293.5012115l-8.5220242-4.7551739z">
                                            </path>
                                        </svg></div>
                                    <div onclick="myFunction(3)" class="rating-stars__star rating-stars__star--clickable ytO7le" style="width: 36px; height: 36px;"><svg
                                            viewBox="0 0 30 30" class="_9MGQf1">
                                            <defs>
                                                <linearGradient id="star__hollow" x1="50%" x2="50%" y1="0%" y2="99.0177926%">
                                                    <stop offset="0%" stop-color="#FFD211"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="none" fill-rule="evenodd" stroke="url(#star__hollow)" stroke-width="2"
                                                d="M23.226809 28.390899l-1.543364-9.5505903 6.600997-6.8291523-9.116272-1.4059447-4.01304-8.63019038-4.013041 8.63019038-9.116271 1.4059447 6.600997 6.8291523-1.543364 9.5505903 8.071679-4.5038874 8.071679 4.5038874z">
                                            </path>
                                            </svg><svg viewBox="0 0 30 30" class="_9MGQf1" style="width:0">
                                            <defs>
                                                <linearGradient id="star__solid" x1="50%" x2="50%" y1="0%" y2="100%">
                                                    <stop offset="0%" stop-color="#FFCA11"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="url(#star__solid)" fill-rule="evenodd"
                                                d="M14.9988798 25.032153l-8.522024 4.7551739c-.4785069.2670004-.7939037.0347448-.7072938-.5012115l1.6339124-10.1109185-6.8944622-7.1327607c-.3871203-.4005006-.2499178-.7947292.2865507-.8774654l9.5090982-1.46652789L14.5740199.51703028c.2346436-.50460972.6146928-.50543408.8497197 0l4.2693588 9.18141263 9.5090986 1.46652789c.545377.0841102.680337.4700675.28655.8774654l-6.894462 7.1327607 1.633912 10.1109185c.08788.5438118-.232337.7662309-.707293.5012115l-8.5220242-4.7551739z">
                                            </path>
                                        </svg></div>
                                    <div onclick="myFunction(4)" class="rating-stars__star rating-stars__star--clickable ytO7le" style="width: 36px; height: 36px;"><svg
                                            viewBox="0 0 30 30" class="_9MGQf1">
                                            <defs>
                                                <linearGradient id="star__hollow" x1="50%" x2="50%" y1="0%" y2="99.0177926%">
                                                    <stop offset="0%" stop-color="#FFD211"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="none" fill-rule="evenodd" stroke="url(#star__hollow)" stroke-width="2"
                                                d="M23.226809 28.390899l-1.543364-9.5505903 6.600997-6.8291523-9.116272-1.4059447-4.01304-8.63019038-4.013041 8.63019038-9.116271 1.4059447 6.600997 6.8291523-1.543364 9.5505903 8.071679-4.5038874 8.071679 4.5038874z">
                                            </path>
                                            </svg><svg viewBox="0 0 30 30" class="_9MGQf1" style="width:0">
                                            <defs>
                                                <linearGradient id="star__solid" x1="50%" x2="50%" y1="0%" y2="100%">
                                                    <stop offset="0%" stop-color="#FFCA11"></stop>
                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                </linearGradient>
                                            </defs>
                                            <path fill="url(#star__solid)" fill-rule="evenodd"
                                                d="M14.9988798 25.032153l-8.522024 4.7551739c-.4785069.2670004-.7939037.0347448-.7072938-.5012115l1.6339124-10.1109185-6.8944622-7.1327607c-.3871203-.4005006-.2499178-.7947292.2865507-.8774654l9.5090982-1.46652789L14.5740199.51703028c.2346436-.50460972.6146928-.50543408.8497197 0l4.2693588 9.18141263 9.5090986 1.46652789c.545377.0841102.680337.4700675.28655.8774654l-6.894462 7.1327607 1.633912 10.1109185c.08788.5438118-.232337.7662309-.707293.5012115l-8.5220242-4.7551739z">
                                            </path>
                                        </svg></div>
                                </div>
                                <div _ngcontent-serverapp-c188="" style="font-size:18px" class="text-error text-red-500 mt-1 ng-star-inserted"></div>
                            </div>
                            <input type="hidden" name="Rating" id="rating" />
                        
                            <div class="leE1Gj" id="rateTitle" style="display:none;">
                                <div onclick="getRateTitle(0)" class="HsTsuw"></div>
                                <div onclick="getRateTitle(1)" class="HsTsuw "></div>
                                <div onclick="getRateTitle(2)" class="HsTsuw "></div>
                                <div onclick="getRateTitle(3)" class="HsTsuw"></div>
                                <div onclick="getRateTitle(4)" class="HsTsuw"></div>
                            </div>
                          </div>
                     
                          <div _ngcontent-serverapp-c188="">
                                <label _ngcontent-serverapp-c188="" for="RelativeEmail"
                              class="form-label">Nội dung đánh giá</label><textarea _ngcontent-serverapp-c188="" name="Description" id="Description"
                              nz-input="" type="text" placeholder="Nội dung đánh giá của bạn"
                              class="form-control ant-input ng-pristine ng-valid ng-touched form-section__form-input"></textarea>
                              <div _ngcontent-serverapp-c188="" class="text-error text-red-500 mt-1 ng-star-inserted"></div>
                          </div>
                           
                               <input type="hidden" name="Title" id="ratingtitle" />
                               <input type="hidden" name="AppointmentId" id="AppointmentId" value="@Model.Id"/>
                          <div _ngcontent-serverapp-c188="" class="flex justify-end" style="margin-top:10px;">
                              <button onclick="CloseForm()" _ngcontent-serverapp-c188="" type="button" style="margin-right:30px;background-color:#ffffff00;color:#000000" class="btn-primary self-end ">Hủy</button>
                              <button _ngcontent-serverapp-c188="" class="btn-primary self-end ">Hoàn thành</button>
                          </div>
                        </form>
                      </div>
                    </app-add-patient-modal>
                  </div>
          
                </div>
              </div>
            </nz-modal-container>
            <div tabindex="0" class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div>
          </div>
          @if(Model.Rate.Id!= new Guid()){
              <div id="cdk-overlay-form-detailt" class="cdk-overlay-pane hiden-btn" style="position: static;">
                <div tabindex="0" class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div>
                <nz-modal-container tabindex="-1" role="dialog"
                  class="ng-tns-c149-18 ng-trigger ng-trigger-modalContainer ant-modal-wrap ant-modal-centered ng-star-inserted"
                  style="z-index: 1000;">
                  <div role="document" class="ant-modal ng-tns-c149-18"
                    style="width: 800px; transform-origin: 399.6px -107.2px 0px;">
                    <div class="ant-modal-content ng-tns-c149-18"><button aria-label="Close" onclick="CloseFormDetailt()"
                        class="ant-modal-close ng-tns-c149-18 ng-star-inserted" style=""><span class="ant-modal-close-x"><i
                            nz-icon="" class="anticon ant-modal-close-icon anticon-close ng-star-inserted"><svg
                              viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em"
                              data-icon="close" aria-hidden="true">
                              <path
                                d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z">
                              </path>
                            </svg></i>
                        </span></button>
          
                      <div nz-modal-title="" class="ant-modal-header ng-tns-c149-18 ng-star-inserted" style="">
                        <div class="ant-modal-title">
                          <div class="ng-star-inserted">Đánh giá bác sĩ</div>
                        </div>
                      </div>
          
                      <div class="ant-modal-body ng-tns-c149-18">
                        <app-add-patient-modal _nghost-serverapp-c188="" class="ng-star-inserted" style="">
                          <div _ngcontent-serverapp-c188="">
                            <form _ngcontent-serverapp-c188="" novalidate="" asp-action="AddRate" id="form-rate"  
                              class=" grid-cols-1 md:grid-cols-2 lg:p-6 gap-4 ng-invalid ng-touched ng-dirty">
                              <div _ngcontent-serverapp-c188="" >
                                    <div _ngcontent-serverapp-c256="" class="flex justify-between items-center px-4 pt-4 lg:px-6 font-semibold">
                                        <div _ngcontent-serverapp-c256="" class="text-green-500">
                                            <p _ngcontent-serverapp-c256="">STT: @Model.Stt</p><span _ngcontent-serverapp-c256=""
                                                class="text-sm font-normal text-gray-700"></span>
                                        </div>
                                        <div _ngcontent-serverapp-c256="" class="flex items-center" style="color: rgb(52, 180, 31);"><svg
                                                _ngcontent-serverApp-c256="" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path _ngcontent-serverApp-c256=""
                                                    d="M10.75 2.45007C11.45 1.86007 12.58 1.86007 13.26 2.45007L14.84 3.80007C15.14 4.05007 15.71 4.26007 16.11 4.26007H17.81C18.87 4.26007 19.74 5.13007 19.74 6.19007V7.89007C19.74 8.29007 19.95 8.85007 20.2 9.15007L21.55 10.7301C22.14 11.4301 22.14 12.5601 21.55 13.2401L20.2 14.8201C19.95 15.1201 19.74 15.6801 19.74 16.0801V17.7801C19.74 18.8401 18.87 19.7101 17.81 19.7101H16.11C15.71 19.7101 15.15 19.9201 14.85 20.1701L13.27 21.5201C12.57 22.1101 11.44 22.1101 10.76 21.5201L9.18001 20.1701C8.88001 19.9201 8.31 19.7101 7.92 19.7101H6.17C5.11 19.7101 4.24 18.8401 4.24 17.7801V16.0701C4.24 15.6801 4.04 15.1101 3.79 14.8201L2.44 13.2301C1.86 12.5401 1.86 11.4201 2.44 10.7301L3.79 9.14007C4.04 8.84007 4.24 8.28007 4.24 7.89007V6.20007C4.24 5.14007 5.11 4.27007 6.17 4.27007H7.9C8.3 4.27007 8.86 4.06007 9.16 3.81007L10.75 2.45007Z"
                                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                                <path _ngcontent-serverApp-c256="" d="M12 8.12988V12.9599" stroke="currentColor" stroke-width="1.5"
                                                    stroke-linecap="round" stroke-linejoin="round"></path>
                                                <path _ngcontent-serverApp-c256="" d="M11.9945 16H12.0035" stroke="currentColor" stroke-width="2"
                                                    stroke-linecap="round" stroke-linejoin="round"></path>
                                            </svg>
                                            <p _ngcontent-serverapp-c256="" class="ml-1">@(Model.Status==StatusAppointment.approved?"Đã đặt khám":
                                                Model.Status==StatusAppointment.cancel?"Đã hủy":
                                                Model.Status==StatusAppointment.complete?"Đã khám bệnh":"Đã quá hạn")</p>
                                        </div>
                                    </div>
                                    <div _ngcontent-serverapp-c256="" class="px-4 lg:px-6 flex gap-4 flex-wrap justify-center items-center">
                                        <a asp-action="Index" asp-controller="Doctor" asp-route-id="@Model.Doctor.UserId">
                                                <img  _ngcontent-serverapp-c256="" width="64" height="64"
                                                    class="bg-gray-50 w-16 h-16  ng-star-inserted ng-lazyloaded"
                                                    alt="@Model.Doctor.FullName"
                                                    src="@(Configuration["BaseAddress"]+"/img/"+ Model.Doctor.Img)">
                                            </a>

                                
                                            <div _ngcontent-serverapp-c256="" class="flex-1">
                                                <a asp-action="Index" asp-controller="Doctor" asp-route-id="@Model.Doctor.UserId">
                                                    <h3 _ngcontent-serverapp-c256="" class="text-base font-medium">@Model.Doctor.FullName</h3>
                                                </a>
                                                <p _ngcontent-serverapp-c256="" class="text-gray-500 text-sm">@Model.Doctor.FullAddress</p>
                                            </div>
                                        <qrcode _ngcontent-serverapp-c256="" class="ng-star-inserted">
                                    
                                        </qrcode>
                                    </div>
                                    <div _ngcontent-serverapp-c253="" class="p-4 lg:p-6 space-y-3 ng-star-inserted">
                                        <h4 _ngcontent-serverapp-c253="" class="font-medium">Thông tin đặt khám
                                        </h4>
                                        <div _ngcontent-serverapp-c253="" class="flex justify-between"><span _ngcontent-serverapp-c253=""
                                                class="whitespace-nowrap mr-2">Mã
                                                phiếu khám</span><span _ngcontent-serverapp-c253="" class="font-medium text-right">@Model.No</span></div>
                                        <div _ngcontent-serverapp-c253="" class="flex justify-between"><span _ngcontent-serverapp-c253=""
                                                class="whitespace-nowrap mr-2">Ngày
                                                khám</span><span _ngcontent-serverapp-c253="" class="font-medium text-right">@(Model.SlotSchedule.FromTime +
                                                " - "+Model.Schedule.CheckInDate.ToShortDateString())</span></div>
                                    </div>
                              </div>
                     
                       
                              <div _ngcontent-serverapp-c188="" class="form-section__form-group md:col-span-1  lg:grid-cols-4 gap-4">
                                  <div class="shopee-popup-form__main-container">

                                    <div class="tRi-ot">
                                        <div class="r6FH3x">
                                            <div class="shopee-avatar Bj3im2">
                                                <div _ngcontent-serverapp-c292="" class="relative ng-tns-c292-114">
                                                    <img _ngcontent-serverapp-c292="" alt="Primary"
                                                        class="ng-tns-c292-114" src="/img/booking/svg/Family-Block.svg">
                                                    <div _ngcontent-serverapp-c292="" class="absolute inset-0 flex items-center justify-center ng-tns-c292-114">
                                                        <span _ngcontent-serverapp-c292=""
                                                            class="mt-1 absolute z-10 w-8 h-8 rounded-full bg-gradient-to-r from-[#22d3ee] to-[#0ea5e9] ng-tns-c292-114"></span>
                                                        <div _ngcontent-serverapp-c292=""
                                                            class="mt-1 absolute z-20 text-sm text-white font-bold ng-tns-c292-114 ng-star-inserted">
                                                              @{
                                                                  var  name = Model.Patient.Name.Split(" ");
                                                                } @name[name.Length-1].Substring(0,2) </div>
       
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="DfB+wQ">
                                            <div class="wPeQVR">@Model.Patient.Name</div>
                                            <div class="rating-stars__container">
                                                @for(int r = 0; r <= 4;r++){
                                                    <div class="rating-stars__star ytO7le" style="width: 14px; height: 14px;">
                                                        <svg viewBox="0 0 30 30"
                                                            class="_9MGQf1">
                                                            <defs>
                                                                <linearGradient id="star__hollow" x1="50%" x2="50%" y1="0%" y2="99.0177926%">
                                                                    <stop offset="0%" stop-color="#FFD211"></stop>
                                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                                </linearGradient>
                                                            </defs>
                                                            <path fill="none" fill-rule="evenodd" stroke="#ffbb1d" stroke-width="2"
                                                                d="M23.226809 28.390899l-1.543364-9.5505903 6.600997-6.8291523-9.116272-1.4059447-4.01304-8.63019038-4.013041 8.63019038-9.116271 1.4059447 6.600997 6.8291523-1.543364 9.5505903 8.071679-4.5038874 8.071679 4.5038874z">
                                                            </path>
                                                        </svg>
                                                        <svg viewBox="0 0 30 30" class="_9MGQf1" style="width:@(r<Model.Rate.Rating?"100%":"0");">
                                                            <defs>
                                                                <linearGradient id="star__solid" x1="50%" x2="50%" y1="0%" y2="100%">
                                                                    <stop offset="0%" stop-color="#FFCA11"></stop>
                                                                    <stop offset="100%" stop-color="#FFAD27"></stop>
                                                                </linearGradient>
                                                            </defs>
                                                            <path fill="#ffbb1d" stroke="#ffbb1d" fill-rule="evenodd"
                                                                d="M14.9988798 25.032153l-8.522024 4.7551739c-.4785069.2670004-.7939037.0347448-.7072938-.5012115l1.6339124-10.1109185-6.8944622-7.1327607c-.3871203-.4005006-.2499178-.7947292.2865507-.8774654l9.5090982-1.46652789L14.5740199.51703028c.2346436-.50460972.6146928-.50543408.8497197 0l4.2693588 9.18141263 9.5090986 1.46652789c.545377.0841102.680337.4700675.28655.8774654l-6.894462 7.1327607 1.633912 10.1109185c.08788.5438118-.232337.7662309-.707293.5012115l-8.5220242-4.7551739z">
                                                            </path>
                                                        </svg>
                                                    </div>

                                                }
                                            
                                            </div>
                                            <div class="iSbtQg">
                                                <div class="BUWNCB">
                                                    @{string[] str = Model.Rate.Title.Split("-");}
                                                    @for(int t =0; t < str.Length;t++){
                                                        <span class="Ixoq95">@str[t]</span>
                                                    }
                                                </div>
                                            </div>
                                            <div class="iSbtQg"><div class="WhQntQ">@Model.Rate.Description</div></div>
                                            <div class="qyTV2S">@Model.Rate.CreatedAt.ToString("HH:mm dd:MM:yyyy")</div>
                                        </div>
                                    </div>
                                  </div>
                              </div>
                              <div _ngcontent-serverapp-c188="" class="flex justify-end" style="margin-top:10px;">
                                  <button onclick="CloseFormDetailt()" _ngcontent-serverapp-c188="" type="button" style="margin-right:30px;background-color:#ffffff00;color:#000000" class="btn-primary self-end ">Thoát</button>
                          
                              </div>
                            </form>
                          </div>
                        </app-add-patient-modal>
                      </div>
          
                    </div>
                  </div>
                </nz-modal-container>
                <div tabindex="0" class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div>
              </div>
          }
        </div>
    }
    
}
@section JavaScript{
    <script>
        function myFunction(r) {
          // Declare variables
          var rating = r+1;
          $("#rating").val(rating);
          $("#ratingtitle").val("");
          $('.form-section__form-group').removeClass('error');
          $('.text-error').html('');
          document.getElementById("rateTitle").style.display = "block";
          var input, filter, table, star, svg, i, txtValue, titles,title;
         
          contain = document.getElementById("rate");
          star = contain.getElementsByClassName("ytO7le");

          // Loop through all table rows, and hide those who don't match the search query
          for (i = 0; i < star.length; i++) {
            svg = star[i].getElementsByClassName("_9MGQf1")[1];
            if (svg) {
              if (i<=r) {
                svg.style.width = "";
              } else {
                svg.style.width = "0";
              }
            }
          }
          titles = document.getElementById("rateTitle");
          title = titles.getElementsByClassName("HsTsuw");
          $.ajax({
                type: 'GET',
                url: '/Profile/RatingTitle?rating= ' + r,
                success: function (result) {
                    for (var i = 0; i < result.length; i++) { 
                       title[i].textContent = result[i].text;
                    }
                
                }
          })
        }
        function getRateTitle(r) {
          // Declare variables
          var input, filter, table, star, svg, i, txtValue, titles,title,ratingtitle="",titleactive;
         
          titles = document.getElementById("rateTitle");
          title = titles.getElementsByClassName("HsTsuw");
          title[r].classList.toggle('SXHCxt');
          titleactive = titles.getElementsByClassName("SXHCxt");

          // Loop through all table rows, and hide those who don't match the search query
          
          for (i = 0; i < titleactive.length; i++) {
            ratingtitle += titleactive[i].innerHTML ;
            if(i!=titleactive.length-1) ratingtitle += "-";
          }
          $("#ratingtitle").val(ratingtitle);
        }
        function ShowForm(){
            $('#cdk-overlay-form').removeClass('hiden-btn');
        }
        function ShowFormDetailt(){
            $('#cdk-overlay-form-detailt').removeClass('hiden-btn');
        }
        function ShowBotton(){
            $('#cdk-overlay-btn').removeClass('hiden-btn');
        }
         function CloseForm(){
             $('#cdk-overlay-form').addClass('hiden-btn');
        }
        function CloseFormDetailt(){
             $('#cdk-overlay-form-detailt').addClass('hiden-btn');
        }
    </script>
    <script>
        function showappoi(i){
            //$('#list-info').removeAttr("hidden");
            //$('#add-info').attr("hidden", true);
            $('.checkshow').attr("hidden", true);
            $('.check-show-info').removeClass('bg-gray-50');
            $('#view-appoi_'+i).removeAttr("hidden");
            $('#show-appoi_'+i).addClass('bg-gray-50');
        }
        
    </script>
    <script src="~/js/Validator1.js"></script>
    <script>
        Validator({
	        form: "#form-rate",
	        formGroup: ".form-section__form-group",
	        errorMessage: ".text-error ",
	        rules: [
                Validator.isRequired('#rating', 'Vui lòng chọn đánh giá!')
	        ]
        })
    </script>
}

